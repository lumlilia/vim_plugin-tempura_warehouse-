# vim_plugin-tempura_warehouse-
ゔぃむぷらぐいん 〜天ぷら倉庫〜

## これは何？
テンプレートを呼び出したり保存したりするプラグインです。

----

## 機能
- 新規ファイル作成時に自動でテンプレートを読み込むことができます。
- コマンドを使用して編集中のバッファにテンプレートを挿入することができます。
- コマンドを使用してテンプレート用ファイルを保存することができます。

----

## 使い方
1. テンプレート保存用のディレクトリを作成する
2. テンプレートファイルを上記ディレクトリに保存する
3. 新規ファイル作成時やコマンドで呼び出せるようになる

## 新規ファイル作成時の挙動について
基本的には新規ファイル用のテンプレートファイルが存在する場合に読み込みます。  
拡張子が一致すれば問答無用で読み込みにいきます。

Makefile等の拡張子のないファイルや、特定のファイル名向けの設定もできます。  
`autoload/tempura_warehouse.vim`内の`s:check_files`という配列に
`[ファイル名, テンプレート名]`
というような配列を追加してやってください。  
テンプレート名が空の文字列の場合は何もしません。

なお、拡張子とファイル名両方の条件に一致した場合は、ファイル名指定の方が優先されます。

----

## ディレクトリについて
ディレクトリを作成する機能はありませんので、予め作成しておいてください。

デフォルトでは`~/vim_template_files/`を使用します。  
変更したい場合は`autoload/tempura_warehouse.vim`内の`template_dir`を書き換えてください(末尾のスラッシュは省略可)。

----

## ファイル名について
ファイル名によって、新規ファイル用か、コマンドでの読み込み専用なのかが決まります。

### 新規ファイル用テンプレートの例  
**template.html**  
同一拡張子の新規ファイル作成時に自動で読み込まれます。

この例では拡張子htmlの新規ファイル作成時に読み込まれます。  
コマンドで呼び出すことも可能です(後述)。

### コマンド専用テンプレートの例
**import_neko**  
アンダーバーより後の部分が呼び出し用の名前になります。

この例では`:ImportTemplate neko`で呼び出せます。

----

## コマンドについて
### ImportTemplate
`:ImTpl`でも可

テンプレートファイルを呼び出します。

`:ImportTemplate name`でファイル**import_name**を呼び出します。  
`name`が`.`から始まる場合は、新規ファイル用テンプレート(**template.name**)を呼び出します。

標準ではカーソルの1つ下の行以降に挿入されます。  
カーソル行から挿入したい場合はnameの後に引数`1`を入れてください(例：`:ImportTemplate name 1`)。

### ExportTemplate
`:ExTpl`でも可

テンプレートファイルを保存します。

`:ExportTemplate name`でファイル**import_name**を保存します。  
`name`が`.`から始まる場合は、新規ファイル用テンプレート(**template.name**)を保存します。

既にファイルが存在する場合は確認します。  
また、ディレクトリが存在しない場合はエラーになりますので注意。

なお、このコマンドの使用は必須ではなく、ファイル名のルールにさえ従っていれば他の方法で保存したファイルであっても動作します。  
あくまで楽に保存する為のコマンドです。

----

## 天ぷら
**おいしい**
